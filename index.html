<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <section>
        <h2>Question 1</h2>
        <h3>Observe o trecho de código abaixo: int INDICE = 13, SOMA = 0, K = 0; 
            Enquanto K < INDICE faça { K = K + 1; SOMA = SOMA + K; }
            Imprimir(SOMA); 
            Ao final do processamento, qual será o valor da variável SOMA?</h3>
        <h2>Resposta:</h2>
        <h3 id="firstQuestion"></h3>
    </section>

    <section>
        <h2>Question 2</h2>
        <h3>Dado a sequência de Fibonacci, onde se inicia por 0 e 1 e o próximo valor sempre será a soma dos 2 valores anteriores (exemplo: 0, 1, 1, 2, 3, 5, 8, 13, 21, 34...), escreva um programa na linguagem que desejar onde, informado um número, ele calcule a sequência de Fibonacci e retorne uma mensagem avisando se o número informado pertence ou não a sequência.</h3>
        
        <input id="fibNumber" type="number" placeholder="Fibonacci number checker">
        <button onclick="SecondQuestion()">Check number</button>
        <h2>Resposta:</h2>
        <h3 id="secondQuestion"></h3>
    </section>

    <section>
        <h2>Question 3</h2>
        <h3>
            Dado um vetor que guarda o valor de faturamento diário de uma distribuidora, faça um programa, na linguagem que desejar, que calcule e retorne: 
            <li>• O menor valor de faturamento ocorrido em um dia do mês;</li>
            <li>• O maior valor de faturamento ocorrido em um dia do mês; </li>
            <li>• Número de dias no mês em que o valor de faturamento diário foi superior à média mensal. </li>
            
            IMPORTANTE: 
            <li>a) Usar o json ou xml disponível como fonte dos dados do faturamento mensal;</li>
            <li>b) Podem existir dias sem faturamento, como nos finais de semana e feriados. Estes dias devem ser ignorados no cálculo da média;</li>
            <h2>NÃO FOI UTILIZADO O JSON DIRETAMENTE PORQUE NO JS O BROWSER BLOQUEIA SOLICITAÇÕES HTTP DE ARQUIVO LOCAL</h2>
        </h3>
        
        <h2>Resposta:</h2>
        <h3 id="thirdQuestion"></h3>
    </section>

    <section>
        <h2>Question 4</h2>

            Dado o valor de faturamento mensal de uma distribuidora, detalhado por estado: 
            <li>•	SP – R$67.836,43 </li>
            <li>•	RJ – R$36.678,66 </li>
            <li>•	MG – R$29.229,88 </li>
            <li>•	ES – R$27.165,48 </li>
            <li>•	Outros – R$19.849,53 </li>

            Escreva um programa na linguagem que desejar onde calcule o percentual de representação que cada estado teve dentro do valor total mensal da distribuidora.  

        
        <h2>Resposta:</h2>
        <h3 id="fourthQuestion"></h3>
    </section>

    <section>
        <h2>Question 5</h2>
        <h3>Escreva um programa que inverta os caracteres de um string. </h3>
        
        <input id="textToReverse" type="text" placeholder="Text">
        <button onclick="FifthQuestion()">Reverse string</button>
        <h2>Resposta:</h2>
        <h3 id="fifthQuestion"></h3>
    </section>
</body>

<script>
    let jsonData = [
        {
            dia: 1,
            valor: 22174.1664
        },
        {
            dia: 2,
            valor: 24537.6698
        },
        {
            dia: 3,
            valor: 26139.6134
        },
        {
            dia: 4,
            valor: 0.0
        },
        {
            dia: 5,
            valor: 0.0
        },
        {
            dia: 6,
            valor: 26742.6612
        },
        {
            dia: 7,
            valor: 0.0
        },
        {
            dia: 8,
            valor: 42889.2258
        },
        {
            dia: 9,
            valor: 46251.174
        },
        {
            dia: 10,
            valor: 11191.4722
        },
        {
            dia: 11,
            valor: 0.0
        },
        {
            dia: 12,
            valor: 0.0
        },
        {
            dia: 13,
            valor: 3847.4823
        },
        {
            dia: 14,
            valor: 373.7838
        },
        {
            dia: 15,
            valor: 2659.7563
        },
        {
            dia: 16,
            valor: 48924.2448
        },
        {
            dia: 17,
            valor: 18419.2614
        },
        {
            dia: 18,
            valor: 0.0
        },
        {
            dia: 19,
            valor: 0.0
        },
        {
            dia: 20,
            valor: 35240.1826
        },
        {
            dia: 21,
            valor: 43829.1667
        },
        {
            dia: 22,
            valor: 18235.6852
        },
        {
            dia: 23,
            valor: 4355.0662
        },
        {
            dia: 24,
            valor: 13327.1025
        },
        {
            dia: 25,
            valor: 0.0
        },
        {
            dia: 26,
            valor: 0.0
        },
        {
            dia: 27,
            valor: 25681.8318
        },
        {
            dia: 28,
            valor: 1718.1221
        },
        {
            dia: 29,
            valor: 13220.495
        },
        {
            dia: 30,
            valor: 8414.61
        }
    ]

    function FirstQuestion(){
        let indice = 13;
        let soma = 0;
        k = 0;

        while( k < indice){
            k += 1;
            soma += k;
        }

        let result = document.getElementById("firstQuestion");
        if(result){
            result.innerText = soma;
            console.log(`Question 1. Resultado: ${soma}`);
        }
    }

    function SecondQuestion(){
        let fibNumber = document.getElementById("fibNumber").value;
        fibNumber = parseInt(fibNumber);

        let a = 0, b = 1, temp;
        while (b < fibNumber) {
            temp = b;
            b = a + b;
            a = temp;
        }

        let result;
        if (b === fibNumber || fibNumber === 0) {
            result = `${fibNumber} pertence à sequência de Fibonacci.`;
        } else {
           result = `${fibNumber} não pertence à sequência de Fibonacci.`;
        }

        console.log(`Question 2. ${result}`);
        document.getElementById("secondQuestion").innerText = result;
    }

    function ThirdQuestion(){
        let media = 0;
        let days = jsonData.length;

        let lessValue = jsonData[0].valor;
        let biggestValue = jsonData[0].valor;

        let biggestDayCount = 0;

        jsonData.forEach(data => {
            if(data.valor === 0){
                days --;
            }else{
                media += data.valor;
            }
        })

        media = media/days;

        jsonData.forEach(data => {
            if(data.valor !== 0){
                if(data.valor < lessValue){
                lessValue = data.valor;
                }
                else if(data.valor > biggestValue){
                    biggestValue = data.valor
                }

                if(data.valor > media){
                    biggestDayCount ++;
                }
            }
        })

        let result = `Menor valor: ${lessValue} - Maior valor: ${biggestValue} - Número de dias acima da média: ${biggestDayCount}`
        console.log(result);
        document.getElementById("thirdQuestion").innerText = result;
    }

    function FourthQuestion(){
        let values = [{uf: "SP", value : 67.836, percent: 0}, {uf: "RJ", value : 36.678, percent: 0}, {uf: "MG", value : 29.229, percent: 0}, {uf: "ES", value : 27.165, percent: 0}, {uf: "Others", value : 19.849, percent: 0}];
        let some = 0;
        let valuesConv = "";

        values.forEach(state => {
            some += state.value;
        })

        values.forEach(state => {
            let percent = (state.value / some) * 100;
            state.percent = percent;
            valuesConv += `<li>Estado: ${state.uf} - Porcentagem: ${state.percent}%</li>`;
        })

        console.log(`Question 4. ${valuesConv}`);
        document.getElementById("fourthQuestion").innerHTML = valuesConv;
    }

    function FifthQuestion(){
        let text = document.getElementById("textToReverse").value;
        let reversedText = "";
        
        for(var x = text.length - 1; x >= 0; x --){
            reversedText += text[x];
        }

        console.log(`Question 5. The reversed text is: ${reversedText}`);
        document.getElementById("fifthQuestion").innerText = reversedText;
    }

    FirstQuestion();
    ThirdQuestion();
    FourthQuestion();
</script>

</html>